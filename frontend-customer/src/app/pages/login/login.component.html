<div class="login-container">
  <!-- Header with Close Button -->
  <div class="login-header">
    <h2 class="login-title">
      <i class="fas fa-user-circle me-2"></i>
      Welcome Back
    </h2>
    <button mat-icon-button class="close-btn" [mat-dialog-close]="false">
      <i class="fas fa-times"></i>
    </button>
  </div>

  <mat-dialog-content class="login-content">
    <!-- Social Login Options -->
    <div class="social-login mb-4" style="display: none;">
      <p class="text-center text-muted mb-3">Sign in with</p>
      <div class="social-buttons">
        <button mat-stroked-button class="social-btn google-btn" (click)="socialLogin('google')">
          <i class="fab fa-google me-2"></i>
          Google
        </button>
        <button mat-stroked-button class="social-btn facebook-btn" (click)="socialLogin('facebook')">
          <i class="fab fa-facebook-f me-2"></i>
          Facebook
        </button>
      </div>
    </div>

    <!-- Divider -->
    <div class="divider" style="display: none;">
      <span class="divider-text">or use email</span>
    </div>

    <!-- Login Form -->
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
      <!-- Email Field -->
      <mat-form-field appearance="outline" class="w-100 mb-3">
        <mat-label>Email Address</mat-label>
        <input matInput formControlName="email" type="email" placeholder="Enter your email" />
        <mat-icon matSuffix>email</mat-icon>
        <mat-hint>We'll never share your email</mat-hint>
        <mat-error *ngIf="loginForm.get('email')?.hasError('required')">
          Email is required
        </mat-error>
        <mat-error *ngIf="loginForm.get('email')?.hasError('email')">
          Please enter a valid email
        </mat-error>
      </mat-form-field>

      <!-- Password Field -->
      <mat-form-field appearance="outline" class="w-100 mb-2">
        <mat-label>Password</mat-label>
        <input matInput [type]="hidePassword ? 'password' : 'text'" 
               formControlName="password" 
               placeholder="Enter your password" />
        <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" type="button">
          <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-hint>Must be at least 6 characters</mat-hint>
        <mat-error *ngIf="loginForm.get('password')?.hasError('required')">
          Password is required
        </mat-error>
      </mat-form-field>

      <!-- Remember Me & Forgot Password -->
      <div class="form-options d-flex justify-content-between align-items-center mb-4">
        <mat-checkbox formControlName="rememberMe" color="primary">
          Remember me
        </mat-checkbox>
        <button type="button" class="forgot-password-btn" (click)="forgotPassword()">
          Forgot Password?
        </button>
      </div>

      <!-- Submit Button -->
      <button mat-raised-button color="primary" type="submit" class="login-btn w-100" 
              [disabled]="loginForm.invalid || loading"
              [class.loading]="loading">
        <span *ngIf="!loading">
          <i class="fas fa-sign-in-alt me-2"></i>
          Sign In
        </span>
        <span *ngIf="loading">
          <i class="fas fa-spinner fa-spin me-2"></i>
          Signing In...
        </span>
      </button>

      <!-- Error Message -->
      <div *ngIf="errorMessage" class="alert alert-danger mt-3 mb-0">
        <i class="fas fa-exclamation-triangle me-2"></i>
        {{errorMessage}}
      </div>
    </form>

    <!-- Register Link -->
    <div class="register-section text-center mt-4">
      <p class="text-muted mb-2">Don't have an account?</p>
      <button mat-stroked-button color="accent" class="register-btn" (click)="openRegister()">
        <i class="fas fa-user-plus me-2"></i>
        Create New Account
      </button>
    </div>
  </mat-dialog-content>
</div>